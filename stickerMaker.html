<!DOCTYPE html>
<html>
	<title>文字表情制作器</title>

	<meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
	<link rel="stylesheet" type="text/css" href="style.css">

	<script type="text/javascript"> 


    function getCanvas(id) {
        return document.getElementById(id);
    }
    
    function writeText() {
        var theText = document.getElementById("stickerText").value;
        var theCanvas = getCanvas('container');
        var textBlock = theCanvas.getContext('2d');
        textBlock.font = 'bold 100px Yuanti SC';
        textBlock.fillStyle = '#000000';
        textBlock.fillText(theText, theCanvas.width*0.2,100);
    }

    function convertCanvasToImage(canvas) {
		var image = new Image();
		image.src = canvas.toDataURL("image/png");
		return image;
	}
	
	function thisfunction () {

	 		writeText()

	 		var imgCanvas = convertCanvasToImage(container);

			var stickerImageBlock = document.getElementById('stickerImageBlock');

			var stickerImageBlockImg = document.createElement('img');

			stickerImageBlockImg.src = imgCanvas.src;

			stickerImageBlock.appendChild(stickerImageBlockImg);

	}

	</script>

	<body>
		
		<div align="center">
			<canvas id="container" width="640" height="200" style="background-color: transparent"></canvas>
		</div>
		
		<div>
			<input type="text" id="stickerText" placeholder="请输入文字" value = "">
		</div>

		<div align = "center" id="btn" onclick="thisfunction();" class="btn">
			生成贴纸
		</div>
		
		<div align = "center" id="stickerImageBlock">
		</div>

	</body>

</html>